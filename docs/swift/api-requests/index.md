\# Try Some API Requests Once you have obtained an OAuth 2.0 token, you can try some API v2 calls using the Swift SDK. ## Dropbox client instance Start by creating a reference to the \`DropboxClient\` or \`DropboxTeamClient\` instance that you will use to make your API calls. \`\`\`swift import SwiftyDropbox // Reference after programmatic auth flow let client = DropboxClientsManager.authorizedClient \`\`\` or \`\`\`swift import SwiftyDropbox // Initialize with manually retrieved auth token let client = DropboxClient(accessToken: "<MY\_ACCESS\_TOKEN>") \`\`\` ## Handle the API response The Dropbox \[User API\](https://www.dropbox.com/developers/documentation/http/documentation) and \[Business API\](https://www.dropbox.com/developers/documentation/http/teams) have three types of requests: RPC, Upload and Download. The response handlers for each request type are similar to one another. The arguments for the handler blocks are as follows: - \*\*route result type\*\* (\`Void\` if the route does not have a return type) - \*\*network error\*\* (either a route-specific error or generic network error) - \*\*output content\*\* (\`URL\` / \`Data\` reference to downloaded output for Download-style endpoints only) > \*\*Note:\*\* Response handlers are required for all endpoints. Progress handlers, on the other hand, are optional for all endpoints. ### Swift Concurrency As of the 10.0.0 release, all of the request types also support Swift Concurrency (\`async\`/\`await\`) via the async \`response()\` function. \`\`\`swift let response = try await client.files.createFolder(path: "/test/path/in/Dropbox/account").response() \`\`\` ## Request types ### RPC-style request \`\`\`swift client.files.createFolder(path: "/test/path/in/Dropbox/account").response { response, error in if let response = response { print(response) } else if let error = error { print(error) } } \`\`\` ### Upload-style request \`\`\`swift let fileData = "testing data example".data(using: String.Encoding.utf8, allowLossyConversion: false)! let request = client.files.upload(path: "/test/path/in/Dropbox/account", input: fileData) .response { response, error in if let response = response { print(response) } else if let error = error { print(error) } } .progress { progressData in print(progressData) } // in case you want to cancel the request if someConditionIsSatisfied { request.cancel() } \`\`\` ### Download-style request \`\`\`swift // Download to URL let fileManager = FileManager.default let directoryURL = fileManager.urls(for: .documentDirectory, in: .userDomainMask)\[0\] let destination = directoryURL.appendingPathComponent("myTestFile") client.files.download(path: "/test/path/in/Dropbox/account", overwrite: true, destination: destination) .response { response, error in if let response = response { print(response) } else if let error = error { print(error) } } .progress { progressData in print(progressData) } // Download to Data client.files.download(path: "/test/path/in/Dropbox/account") .response { response, error in if let response = response { let responseMetadata = response.0 print(responseMetadata) let fileContents = response.1 print(fileContents) } else if let error = error { print(error) } } .progress { progressData in print(progressData) } \`\`\`